# 性能考虑

***type erasure***结合了动态多态和静态多态的优点，但实际上，更偏向于动态多态些，因为同样用到了虚函数的动态分派，因此也损失了静态多态的部分优点，比如编译器内联调用的能力。

这种性能损失是否被察觉依赖于应用，但是通常更容易考虑到的是这个函数被调用的性能与之相关虚函数的开销相比：如果两者接近，那么类型擦除将会比静态多态慢的多，但是如果函数执行一个大量工作：查询数据库，容器排序，更新用户接口等，类型擦除的开销相比就算不上很大